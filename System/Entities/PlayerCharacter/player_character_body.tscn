[gd_scene load_steps=20 format=3 uid="uid://715oy5d5svy5"]

[ext_resource type="PackedScene" uid="uid://vr1rchrbhnqw" path="res://System/Entities/entity_body.tscn" id="1_b5oby"]
[ext_resource type="Script" uid="uid://whk1oqxwy0bs" path="res://System/Entities/PlayerCharacter/player_character_body_3d.gd" id="2_2ckjl"]
[ext_resource type="PackedScene" uid="uid://qnadki4kfuia" path="res://System/Entities/Stats/entity_stat_holder.tscn" id="2_wrub7"]
[ext_resource type="Script" uid="uid://csuws0tdksq3l" path="res://System/Entities/controller.gd" id="3_ofj4c"]
[ext_resource type="PackedScene" uid="uid://ccj5hjerlgbef" path="res://System/Items/Core/Inventory Element/Inventory/ammo_inventory.tscn" id="4_px6uy"]
[ext_resource type="PackedScene" uid="uid://cop5ohxc0jlqs" path="res://System/Items/Core/Inventory Element/Inventory/slot_inventory.tscn" id="4_ycqsk"]
[ext_resource type="Script" uid="uid://ct5u4d6w5ptm5" path="res://System/Entities/Stats/Scripts/entity_stat.gd" id="5_ofj4c"]
[ext_resource type="PackedScene" uid="uid://clsurtm10to0e" path="res://System/Items/Core/Inventory Element/Slot/inventory_slot.tscn" id="5_oghua"]
[ext_resource type="Script" uid="uid://cbc4plhquo8j6" path="res://Items/_System/Filters/ItemTypeFilter/gun_filter.gd" id="6_jo2fw"]
[ext_resource type="Resource" uid="uid://wp5415ckmxuv" path="res://Items/Gun/TestGun/testgun.tres" id="7_qjgax"]
[ext_resource type="Script" uid="uid://crq3ojxjwo43d" path="res://System/Items/Core/item_instance.gd" id="8_px6uy"]

[sub_resource type="Resource" id="Resource_qjgax"]
script = ExtResource("6_jo2fw")
allowed_ammo_families = Array[int]([])
accept_special = false
metadata/_custom_type_script = "uid://c7fpq0bexdg6s"

[sub_resource type="Resource" id="Resource_s6gwo"]
script = ExtResource("8_px6uy")
item_reference = ExtResource("7_qjgax")
_properties = Dictionary[StringName, Variant]({
&"amount": 1,
&"loaded_ammo_amount": 10,
&"loaded_ammo_id": &"item_ammo_test_2"
})
amount = 1
metadata/_custom_type_script = "uid://crq3ojxjwo43d"

[sub_resource type="Resource" id="Resource_px6uy"]
script = ExtResource("6_jo2fw")
allowed_ammo_families = Array[int]([])
accept_special = false
metadata/_custom_type_script = "uid://c7fpq0bexdg6s"

[sub_resource type="Resource" id="Resource_emag8"]
script = ExtResource("5_ofj4c")
min_value = 0.0
max_value = 100.0
standard_value = 100.0
regen_per_second = 0.0
regen_delay_seconds = 0.0
metadata/_custom_type_script = "uid://dbblf8tqoy7rc"

[sub_resource type="Resource" id="Resource_oifuf"]
script = ExtResource("5_ofj4c")
min_value = 0.0
max_value = 100.0
standard_value = 100.0
regen_per_second = 10.0
regen_delay_seconds = 3.0
metadata/_custom_type_script = "uid://dbblf8tqoy7rc"

[sub_resource type="Resource" id="Resource_u2gnr"]
script = ExtResource("5_ofj4c")
min_value = 0.0
max_value = 100.0
standard_value = 100.0
regen_per_second = 0.0
regen_delay_seconds = 0.0
metadata/_custom_type_script = "uid://dbblf8tqoy7rc"

[sub_resource type="Resource" id="Resource_b7hs3"]
script = ExtResource("5_ofj4c")
min_value = 0.0
max_value = 100.0
standard_value = 12.0
regen_per_second = 0.0
regen_delay_seconds = 0.0
metadata/_custom_type_script = "uid://dbblf8tqoy7rc"

[sub_resource type="Resource" id="Resource_ofj4c"]
script = ExtResource("5_ofj4c")
min_value = 0.0
max_value = 1000.0
standard_value = 7.0
regen_per_second = 0.0
regen_delay_seconds = 0.0
metadata/_custom_type_script = "uid://dbblf8tqoy7rc"

[node name="EntityBody" node_paths=PackedStringArray("action_stamina", "movement_stamina", "ads_stamina", "jump_strength", "controller", "exclude_client_authority", "hotbar_inventory", "ammo_inventory") instance=ExtResource("1_b5oby")]
collision_layer = 2
floor_max_angle = 0.872665
script = ExtResource("2_2ckjl")
action_stamina = NodePath("Stats/ActionStamina")
movement_stamina = NodePath("Stats/MovementStamina")
ads_stamina = NodePath("Stats/AdsStamina")
jump_strength = NodePath("Stats/JumpStrength")
controller = NodePath("Controller")
exclude_client_authority = [NodePath("Stats"), NodePath("InventoryCollection")]
hotbar_inventory = NodePath("InventoryCollection/Inventory")
ammo_inventory = NodePath("InventoryCollection/AmmoInventory")

[node name="Controller" type="Node" parent="." index="0" node_paths=PackedStringArray("controlled_entity")]
script = ExtResource("3_ofj4c")
gravity = 32.0
sprint_stamina_consumption_per_second = 5.0
sprint_speed_modifier = 0.3
controlled_entity = NodePath("..")

[node name="Inventory" parent="InventoryCollection" index="0" instance=ExtResource("4_ycqsk")]

[node name="InventorySlot" parent="InventoryCollection/Inventory" index="0" instance=ExtResource("5_oghua")]
filter = SubResource("Resource_qjgax")
held_item = SubResource("Resource_s6gwo")

[node name="InventorySlot2" parent="InventoryCollection/Inventory" index="1" instance=ExtResource("5_oghua")]
filter = SubResource("Resource_px6uy")

[node name="InventorySlot3" parent="InventoryCollection/Inventory" index="3" instance=ExtResource("5_oghua")]

[node name="InventorySlot4" parent="InventoryCollection/Inventory" index="4" instance=ExtResource("5_oghua")]

[node name="InventorySlot5" parent="InventoryCollection/Inventory" index="5" instance=ExtResource("5_oghua")]

[node name="InventorySlot6" parent="InventoryCollection/Inventory" index="6" instance=ExtResource("5_oghua")]

[node name="AmmoInventory" parent="InventoryCollection" index="2" instance=ExtResource("4_px6uy")]

[node name="ActionStamina" parent="Stats" index="0" instance=ExtResource("2_wrub7")]
stat_to_represent = SubResource("Resource_emag8")

[node name="MovementStamina" parent="Stats" index="1" instance=ExtResource("2_wrub7")]
stat_to_represent = SubResource("Resource_oifuf")

[node name="AdsStamina" parent="Stats" index="2" instance=ExtResource("2_wrub7")]
stat_to_represent = SubResource("Resource_u2gnr")

[node name="JumpStrength" parent="Stats" index="3" instance=ExtResource("2_wrub7")]
stat_to_represent = SubResource("Resource_b7hs3")

[node name="MoveSpeed" parent="Stats" index="5"]
stat_to_represent = SubResource("Resource_ofj4c")

[node name="Body" parent="." index="4"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 0, 1, 0)

[node name="FPVCamera" parent="Body/Neck" index="1"]
fov = 90.0
